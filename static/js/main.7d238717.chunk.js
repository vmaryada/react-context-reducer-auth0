(window["webpackJsonpauth0-app-revamp"]=window["webpackJsonpauth0-app-revamp"]||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},17:function(e,t,n){},18:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),o=n.n(l),c=(n(17),n(7)),i=n.n(c),u=(n(18),n(1)),s=n(2),d=n(8),m=n(9),p=n(10),h=n(11),f=function(){function e(){var t=this;Object(m.a)(this,e),this.signOut=function(){t.auth0.logout({returnTo:"http://localhost:3000",client_id:"nSnFv6uC54oh3LGgPn6DZrvskmwYzDXX"})},this.auth0=new h.a.WebAuth({domain:"dev-49r4fk1p.auth0.com",audience:"https://".concat("dev-49r4fk1p.auth0.com","/userinfo"),clientID:"nSnFv6uC54oh3LGgPn6DZrvskmwYzDXX",redirectUri:"http://localhost:3000/?callback",responseType:"id_token",scope:"openid profile"}),this.handleAuthentication=this.handleAuthentication.bind(this),this.signIn=this.signIn.bind(this)}return Object(p.a)(e,[{key:"signIn",value:function(){this.auth0.authorize()}},{key:"getProfile",value:function(){return this.profile}},{key:"handleAuthentication",value:function(){var e=this;return new Promise((function(t,n){e.auth0.parseHash((function(a,r){return a?n(a):r&&r.idToken?(e.idToken=r.idToken,e.profile=r.idTokenPayload,e.expiresAt=1e3*r.idTokenPayload.exp,void t()):n(a)}))}))}}]),e}();function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=r.a.createContext(),y=r.a.createContext(),v=r.a.createContext(),O=new f,k=r.a.createContext(),w={meetup:{title:"Auth0 Meetup",date:Date(),attendees:["vin","surya","soujan"]},users:["klr","vk18","rpant"],authenticated:!1},j=function(e,t){switch(t.type){case"SUBSCRIBE":return console.log(t.payload),g({},e,{attendees:[].concat(Object(s.a)(e.attendees),[t.payload])});case"UNSUBSCRIBE":return g({},e,{attendees:e.attendees.filter((function(e){return e!==t.payload}))});default:return e}};var C=function(e){var t=Object(a.useReducer)(j,w.meetup),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useReducer)((function(e,t){switch(t.type){case"LOGIN":return console.log("action called"),O.signIn(),console.log("signin called"),e.authenticated=!0,e;case"LOGOUT":return O.signOut(),console.log("sign Out called"),e;case"SUBSCRIBE":return console.log("Subscribe called"),e=g({},e,{users:[].concat(Object(s.a)(e.users),[t.payload])});case"ADD_USER":return console.log("add_user case called"),e=g({},e,{users:[].concat(Object(s.a)(e.users),[t.payload])}),console.log(e),e;default:return console.log("defaulted"),e}}),w),i=Object(u.a)(c,2),d=i[0],m=i[1];return r.a.createElement(v.Provider,{value:o},r.a.createElement(y.Provider,{value:g({},d,{handleLogin:O.signIn})},r.a.createElement(k.Provider,{value:m},r.a.createElement(E.Provider,{value:l},e.children))))};n(5);var S=function(){return r.a.createElement(v.Consumer,null,(function(e){return r.a.createElement(E.Consumer,null,(function(t){return r.a.createElement("div",null,r.a.createElement("h4",null,"Attendess(",t.attendees.length,")"),r.a.createElement("hr",null),r.a.createElement("ul",{style:{textAlign:"left"}},t.attendees.map((function(n,a){return r.a.createElement("span",{key:a},r.a.createElement("li",{style:{paddingBottom:"10px"}},r.a.createElement("span",{style:{minWidth:"100px",display:"inline-block"}},n," \xa0 \xa0"),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return e({type:"UNSUBSCRIBE",payload:t.attendees[a]})}},"Unsubscribe")))}))))}))}))};var P=function(){var e=new f,t=Object(a.useState)(!1),n=Object(u.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],d=i[1];return e.handleAuthentication().then((function(){console.log("handle auth called"),d(e.getProfile().name),console.log(s),o(!0)})).catch((function(e){return console.log(e)})),r.a.createElement("div",null,r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement(v.Consumer,null,(function(t){return r.a.createElement("div",null,console.log(e),r.a.createElement("h4",null,"Users(",e.users.length,")"),r.a.createElement("hr",null),r.a.createElement("ul",{style:{textAlign:"left"}},e.users.map((function(n,a){return r.a.createElement("span",{key:a},r.a.createElement("li",{style:{paddingBottom:"10px"}},r.a.createElement("span",{style:{minWidth:"100px",display:"inline-block"}},n," \xa0 \xa0"),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return t({type:"SUBSCRIBE",payload:e.users[a]})}}," Subscribe ")))}))))})),r.a.createElement(k.Consumer,null,(function(t){return r.a.createElement("div",null,l?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t({type:"LOGOUT"})}},"LogOut"),r.a.createElement("span",null,"\xa0 \xa0 "),console.log(s),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t({type:"SUBSCRIBE",payload:s})}},"Add user to Users")):r.a.createElement("button",{className:"btn btn-primary",onClick:e.handleLogin},"Login"),console.log(l))})))})),r.a.createElement("br",null),r.a.createElement("br",null))};var B=function(){return r.a.createElement(C,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:i.a,className:"App-logo",alt:"logo"}),r.a.createElement(S,null),r.a.createElement(P,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports=n.p+"static/media/logo.25bf045c.svg"}},[[12,1,2]]]);
//# sourceMappingURL=main.7d238717.chunk.js.map